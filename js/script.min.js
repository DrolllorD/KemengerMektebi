function calculation(e,t,r){let a=e.offsetWidth,o=t.scrollWidth,c=r.offsetWidth,n=t.childElementCount,i=(o-c*n)/(n-1),l=c+i,s=1;for(let e=c;e<a;e+=l)s++;let d=(n-s)*l;return[l,d]}function check(e,t,r,a){e.style.display=r<=-a?"none":"block",t.style.display=r>=0?"none":"block"}function moveCatalog(e){e.target===catArrRight?(catPosition-=catData[0],catCards.style.transform=`translateX(${catPosition}px)`,check(catArrRight,catArrLeft,catPosition,catData[1])):e.target===catArrLeft&&(catPosition+=catData[0],catCards.style.transform=`translateX(${catPosition}px)`,check(catArrRight,catArrLeft,catPosition,catData[1]))}function moveReviews(e){e.target===revArrRight?(revPosition-=revData[0],revCards.style.transform=`translateX(${revPosition}px)`,check(revArrRight,revArrLeft,revPosition,revData[1])):e.target===revArrLeft&&(revPosition+=revData[0],revCards.style.transform=`translateX(${revPosition}px)`,check(revArrRight,revArrLeft,revPosition,revData[1]))}function openMore(e){[...more].includes(e.target)&&(program.forEach(e=>{e.style.height="535px"}),more.forEach(e=>{e.style.opacity="0",e.style.margin="0"}))}function closeFrame(e){"Escape"===e.code&&(frame.style.opacity="0",frame.style.transform="translateY(-100%)",document.body.style.overflow="visible",window.removeEventListener("keydown",closeFrame),send.removeEventListener("click",sendComment))}function openFrame(){window.scrollTo(0,0),frame.style.opacity="1",frame.style.transform="translateY(0)",document.body.style.overflow="hidden",window.addEventListener("keydown",closeFrame),send.addEventListener("click",sendComment)}function sendComment(){form.style.display="none",gratitude.style.display="block",setTimeout(()=>{form.style.display="flex",gratitude.style.display="none",frame.style.opacity="0",frame.style.transform="translateY(-100%)",document.body.style.overflow="visible",window.removeEventListener("keydown",closeFrame),send.removeEventListener("click",sendComment)},3e3)}const catalog=document.querySelector(".catalog"),catSlider=document.querySelector(".catalog__slider"),catCards=document.querySelector(".catalog__cards"),catCard=document.querySelector(".catalog__card"),catArrRight=document.querySelector(".catalog__arrRight"),catArrLeft=document.querySelector(".catalog__arrLeft"),more=document.querySelectorAll(".catalog__more"),program=document.querySelectorAll(".catalog__program"),reviews=document.querySelector(".reviews"),revSlider=document.querySelector(".reviews__slider"),revCards=document.querySelector(".reviews__cards"),revCard=document.querySelector(".reviews__card"),revArrRight=document.querySelector(".reviews__arrRight"),revArrLeft=document.querySelector(".reviews__arrLeft"),buttonOpen=document.querySelector("[data-button]"),send=document.querySelector("[data-send]"),frame=document.querySelector(".frame"),form=document.querySelector(".frame__form"),gratitude=document.querySelector(".frame__gratitude");let catData=calculation(catSlider,catCards,catCard),revData=calculation(revSlider,revCards,revCard),catPosition=0,revPosition=0;check(catArrRight,catArrLeft,catPosition,catData[1]),check(revArrRight,revArrLeft,revPosition,revData[1]),catalog.addEventListener("click",moveCatalog),reviews.addEventListener("click",moveReviews),catSlider.addEventListener("click",openMore),buttonOpen.addEventListener("click",openFrame);